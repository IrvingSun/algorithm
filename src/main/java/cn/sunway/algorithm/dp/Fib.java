package cn.sunway.algorithm.dp;

/**
 * @author sunw
 * @date 2023/2/21
 */
public class Fib {

    /**
     * é€’å½’
     * é€šè¿‡é€’å½’çš„æ–¹å¼æ¥å¤„ç†ï¼Œå…¶å®æ˜¯å»ºç«‹äº†ä¸€æ£µäºŒå‰æ ‘ï¼Œå¹¶ä¸”äºŒå‰æ ‘çš„æŸäº›èŠ‚ç‚¹è¿˜è¢«é‡å¤è®¡ç®—
     *
     *          f(20)
     *          /    \
     *       f(19)   f(18)
     *       / \      /   \
     *   f(18) f(17) f(17) f(16)
     *          .......
     *
     * å…¶ä¸­ï¼Œf(18)ã€f(17) éƒ½è¢«è®¡ç®—äº†ä¸¤æ¬¡
     * äºŒå‰æ ‘çš„æ€»èŠ‚ç‚¹æ•°ä¸º2^Nï¼Œæ˜¯æŒ‡æ•°çº§åˆ«çš„
     *
     * @param n
     * @return
     */
    private static int fib(int n) {
        if (n < 2) {
            return n;
        }
        return fib(n - 2) + fib(n - 1);
    }

    /**
     * å¸¦å¤‡å¿˜å½•çš„é€’å½’è§£æ³•
     * å»ºç«‹å¤‡å¿˜å½•dpï¼Œæ¥è®°å½•ä¹‹å‰å·²ç»è®¡ç®—çš„å€¼
     *
     * å¤‡å¿˜å½•é€šå¸¸æ˜¯ä»¥æ•°ç»„çš„å½¢å¼æ¥å±•ç°ï¼Œå¦‚æœä¹‹å‰è®¡ç®—è¿‡ï¼Œå°±ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œåé¢åªéœ€è¦é€šè¿‡ä¸‹æ ‡æ¥è·å–å³å¯
     *            f(20)
     *          /      \
     *       f(19)    f(18)ğŸš«
     *       / \        /   \
     *   f(18) f(17)ğŸš« f(17)ğŸš« f(16)ğŸš«
     *            .......
     * è¿™ç›¸å½“äºæŠŠéƒ¨åˆ†èŠ‚ç‚¹ç»™å»é™¤äº†ï¼Œç§°ä¸ºã€Œå‰ªæã€
     *
     * å½’çº³æ¥è®²ï¼Œé¢˜è§£çš„è¿‡ç¨‹ï¼Œå°±ç›¸å½“äºå¡«å……DPæ•°ç»„çš„è¿‡ç¨‹
     * æ•´ä¸ªé¢˜è§£çš„è¿‡ç¨‹ï¼Œä¹Ÿå¯ä»¥çœ‹æˆæ˜¯çŠ¶æ€åœ¨æ•°ç»„ä¸­ä¸æ–­æ‰©å……çš„è¿‡ç¨‹
     *
     * @param n
     * @return
     */
    private static int fibLoop(int n) {
        if (n < 2) {
            return n;
        }
        int[] dp = new int[n + 1];
        dp[0] = 0;
        dp[1] = 1;
        int i = 2;
        while (i <= n) {
            dp[i] = dp[i - 1] + dp[i - 2];
            i++;
        }
        return dp[n];
    }

    /**
     * å»æ‰æ•°ç»„ï¼Œä½¿ç”¨å˜é‡å‹ç¼©ç©ºé—´
     *
     * ä¸Šé¢çš„dpè§£æ³•ï¼Œä½¿ç”¨åˆ°äº†é¢å¤–çš„né•¿åº¦ç©ºé—´
     * å…¶å®æˆ‘ä»¬å…³å¿ƒçš„åªæ˜¯æœ€åä¸¤ä¸ªä½ç½®çš„å€¼ï¼Œ
     * å¦‚æœä½¿ç”¨ä¸¤ä¸ªå˜é‡æŠŠè¿™ä¸¤ä¸ªå€¼ä¸´æ—¶å­˜èµ·æ¥ï¼Œè¿˜å°†å‡å°‘å†…å­˜ä½¿ç”¨
     *
     * @param n
     * @return
     */
    private static int fibLoop2(int n){
        if (n < 2) {
            return n;
        }
        int pre = 0, cur = 1;
        int i = 2; //ä»ç¬¬äºŒä½å¼€å§‹éå†
        while (i++ <= n) {
            int sum = pre + cur;
            pre = cur;
            cur = sum;
        }
        return cur;
    }


    public static void main(String[] args) {
        System.out.println(fib(4));
        System.out.println(fibLoop(4));
        System.out.println(fibLoop2(4));
    }
}
